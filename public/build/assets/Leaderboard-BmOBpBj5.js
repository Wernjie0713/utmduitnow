import{r as b,j as e,H as y,L as _}from"./app-D3djMi1z.js";import{A as C}from"./AuthenticatedLayout-DZO5WDYE.js";import{C as A,a as L,b as B,d as R,c as D}from"./card-CGauDGzo.js";import{T as E,a as H,b as d,d as c,M}from"./tabs-P59X8-LS.js";import{T as m,a as F,b as x,c as l,d as j,e as a}from"./table-hG5a-Cqx.js";import{B as I}from"./button-2QLFVnxw.js";import{A as U,a as V,b as W}from"./alert-0AJqDv4t.js";import{B as h}from"./badge-BJk-76aQ.js";import{I as O}from"./info-DDNO4a-q.js";import{T as p}from"./use-controlled-state-_609xuTv.js";import{A as P}from"./award-bUMx7ykn.js";import"./ApplicationLogo-DR5Al8_M.js";import"./transition-DD3lfjsW.js";import"./UserAvatar-DMxWifGL.js";import"./utils-DxrgW60L.js";import"./proxy-D9ZHkyEz.js";import"./popover-By6pyw1h.js";import"./createLucideIcon-CuKIg8Rh.js";import"./floating-ui.utils.dom-Ds-VJJzb.js";import"./index-Bkkt4zum.js";import"./log-out-DURLpOVm.js";import"./index-DvhQXPbi.js";function me({auth:g,weeklyData:N,monthlyData:f,allTimeData:w,activeTab:i="weekly"}){const[v,u]=b.useState(i);b.useEffect(()=>{u(i)},[i]);const T=t=>{switch(t){case 1:return e.jsx(p,{className:"h-5 w-5 text-yellow-500"});case 2:return e.jsx(M,{className:"h-5 w-5 text-gray-400"});case 3:return e.jsx(P,{className:"h-5 w-5 text-amber-600"});default:return null}},k=t=>{switch(t){case 1:return"bg-yellow-50 border-l-4 border-yellow-400";case 2:return"bg-gray-50 border-l-4 border-gray-400";case 3:return"bg-amber-50 border-l-4 border-amber-400";default:return""}},n=t=>{const{top20:o,unit_position:r}=t||{};return!o||o.length===0?e.jsx("div",{className:"text-center py-16 text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(p,{className:"h-16 w-16 text-gray-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-medium text-gray-700",children:"No rankings yet"}),e.jsx("p",{className:"text-sm",children:"Data generation is pending."})]})]})}):e.jsxs("div",{className:"border rounded-lg overflow-hidden relative",children:[e.jsx(m,{children:e.jsx(F,{className:"bg-gray-50",children:e.jsxs(x,{children:[e.jsx(l,{className:"w-20",children:"Rank"}),e.jsx(l,{children:"Business Unit"}),e.jsx(l,{className:"w-32 text-right",children:"Transactions"}),e.jsx(l,{className:"w-32 text-right",children:"Total Amount (RM)"})]})})}),e.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"520px"},children:e.jsx(m,{children:e.jsx(j,{children:o.map(s=>e.jsxs(x,{className:k(s.rank),children:[e.jsx(a,{className:"w-20 font-bold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[T(s.rank),e.jsxs("span",{className:s.rank<=3?"text-lg":"",children:["#",s.rank]})]})}),e.jsxs(a,{className:"font-medium",children:[s.entrepreneur_unit?.business_name,s.entrepreneur_unit?.business_location==="physical"&&e.jsx(h,{variant:"outline",className:"ml-2 text-xs bg-orange-50 text-orange-700 border-orange-200",children:"Physical"}),s.entrepreneur_unit?.business_location==="online"&&e.jsx(h,{variant:"outline",className:"ml-2 text-xs bg-blue-50 text-blue-700 border-blue-200",children:"Online"})]}),e.jsx(a,{className:`w-32 text-right font-bold ${s.rank<=3?"text-xl":"text-lg"}`,children:e.jsx("span",{className:s.rank===1?"text-yellow-600":s.rank===2?"text-gray-600":s.rank===3?"text-amber-600":"",children:s.transaction_count})}),e.jsx(a,{className:"w-32 text-right text-gray-600",children:s.total_amount?parseFloat(s.total_amount).toFixed(2):"0.00"})]},s.unit_id))})})}),g?.user&&r&&e.jsx("div",{className:"bg-indigo-50 border-t-2 border-indigo-300",children:e.jsx(m,{children:e.jsx(j,{children:e.jsxs(x,{children:[e.jsxs(a,{className:"w-20 font-bold",children:["#",r.rank!==null&&r.rank!==void 0?r.rank:"-"]}),e.jsx(a,{className:"font-bold",children:"Your Business Unit"}),e.jsx(a,{className:"w-32 text-right font-bold text-lg",children:r.transaction_count||0}),e.jsx(a,{className:"w-32 text-right text-gray-700 font-medium",children:r.total_amount?parseFloat(r.total_amount).toFixed(2):"0.00"})]})})})})]})};return e.jsxs(C,{header:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Entrepreneur Leaderboard"}),e.jsx(h,{variant:"destructive",className:"uppercase font-bold tracking-wider relative top-[1px]",children:"Demo Data"})]}),children:[e.jsx(y,{title:"Entrepreneur Leaderboard"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsxs(A,{children:[e.jsx(L,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(B,{children:"Entrepreneur Leaderboard - Top 20"}),e.jsx(R,{children:"Compete with other business units for the top spot!"})]}),e.jsx(_,{href:route("shop.leaderboard.full"),children:e.jsx(I,{className:"bg-indigo-600 hover:bg-indigo-700",children:"View Full Rankings"})})]})}),e.jsxs(D,{children:[e.jsxs(U,{className:"mb-6 border-blue-200 bg-blue-50",children:[e.jsx(O,{className:"h-4 w-4 text-blue-600"}),e.jsx(V,{className:"text-blue-900 font-bold",children:"Demo Mode Active"}),e.jsx(W,{className:"text-blue-800 text-sm",children:"Notice: The data shown on this board is generated via internal systems for demonstration purposes. This is separate from the physical receipts dashboard phase."})]}),e.jsxs(E,{value:v,onValueChange:u,className:"w-full",children:[e.jsxs(H,{className:"grid w-full grid-cols-3 mb-6",children:[e.jsx(d,{value:"weekly",children:"Weekly"}),e.jsx(d,{value:"monthly",children:"Monthly"}),e.jsx(d,{value:"all-time",children:"All-Time"})]}),e.jsxs(c,{value:"weekly",className:"mt-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx("h3",{className:"text-lg font-semibold",children:"This Week"})}),n(N)]}),e.jsxs(c,{value:"monthly",className:"mt-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx("h3",{className:"text-lg font-semibold",children:"This Month"})}),n(f)]}),e.jsxs(c,{value:"all-time",className:"mt-6",children:[e.jsx("div",{className:"mb-4",children:e.jsx("h3",{className:"text-lg font-semibold",children:"All-Time Champions"})}),n(w)]})]})]})]})})})]})}export{me as default};
