import{r,j as e,H as d}from"./app-qetWhnOG.js";import{A as c}from"./AuthenticatedLayout-YHDnYIvS.js";import n from"./DeleteUserForm-BtOQ5vRf.js";import p from"./UpdatePasswordForm-BuuFaIrl.js";import x from"./UpdateProfileInformationForm-ebED0AOt.js";import h from"./UpdateAvatarForm-BTyIv37y.js";import u from"./UpdateStudentInformationForm-b4AHFg2Q.js";import{C as f}from"./CompetitionAnnouncementModal-BJ--uUgm.js";import{D as j,a as g,b as w,c as N}from"./dialog-CTVFbPhL.js";import"./ApplicationLogo-DZ3cp5zd.js";import"./transition-C7jrS6w9.js";import"./UserAvatar-Of6IaFkl.js";import"./utils-DxrgW60L.js";import"./proxy-DOP5oCNK.js";import"./popover-Bnp3oNpM.js";import"./button-Dq77yllh.js";import"./createLucideIcon-DKCLQZta.js";import"./floating-ui.utils.dom-Ds-VJJzb.js";import"./use-controlled-state-AiZYFvZO.js";import"./index-VZjm6uBK.js";import"./log-out-CC9EDxz3.js";import"./InputError-DvQ7L7vD.js";import"./InputLabel-CVvodvJS.js";import"./SecondaryButton-DZJYwYO-.js";import"./TextInput-Q8tXc7wC.js";import"./PrimaryButton-Dc6P7Aiw.js";import"./eye-CUrQ3KaD.js";import"./phone-input-BOUot1dA.js";import"./index-BkyZHtrY.js";import"./search-Ojkhz5k7.js";import"./index-DtzJ2kgm.js";import"./check-BxVQqN8H.js";import"./circle-alert-C0rKU405.js";import"./calendar-DEy8TP13.js";import"./info-CrYhr7rQ.js";import"./circle-check-DZezBkjo.js";function le({auth:s,mustVerifyEmail:i,status:t,faculties:a,showCompetitionAnnouncement:m=!1}){const[l,o]=r.useState(!1);return r.useEffect(()=>{s.user?.google_id&&!s.user?.profile_completed?o(!0):o(!1)},[s.user?.google_id,s.user?.profile_completed]),e.jsxs(c,{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Profile"}),children:[e.jsx(d,{title:"Profile"}),e.jsx(f,{show:m&&!l}),e.jsx(j,{open:l,onOpenChange:o,children:e.jsxs(g,{className:"sm:max-w-md",children:[e.jsx(w,{children:e.jsxs(N,{className:"flex items-center gap-2",children:[e.jsx("svg",{className:"h-6 w-6 text-blue-500",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Welcome! Complete Your Profile"]})}),e.jsxs("div",{className:"space-y-4 py-4",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"You've successfully signed in with Google! To access your dashboard and start using the platform, please complete the following required fields:"}),e.jsxs("div",{className:"space-y-2 rounded-lg bg-gray-50 p-4",children:[e.jsx("h4",{className:"font-medium text-sm text-gray-900",children:"Required Information:"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm text-gray-700",children:[e.jsx("li",{children:"Phone Number"}),e.jsx("li",{children:"Matric Number"}),e.jsx("li",{children:"Faculty"}),e.jsx("li",{children:"Year of Study"}),e.jsx("li",{children:"DuitNow ID"}),e.jsx("li",{children:"Password (as backup for Google login)"})]})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Note:"})," You won't be able to navigate to other pages until your profile is complete."]}),e.jsx("button",{onClick:()=>o(!1),className:"w-full rounded-md bg-blue-600 px-4 py-2 text-sm font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2",children:"Got it, let's complete my profile"})]})]})}),e.jsx("div",{className:"py-8",children:e.jsxs("div",{className:"mx-auto max-w-7xl space-y-6 px-6 sm:px-6 md:px-6 lg:px-8",children:[s.user.needsProfileCompletion&&e.jsx("div",{className:"rounded-md bg-yellow-50 border border-yellow-200 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M8.485 2.495c.673-1.167 2.357-1.167 3.03 0l6.28 10.875c.673 1.167-.17 2.625-1.516 2.625H3.72c-1.347 0-2.189-1.458-1.515-2.625L8.485 2.495zM10 5a.75.75 0 01.75.75v3.5a.75.75 0 01-1.5 0v-3.5A.75.75 0 0110 5zm0 9a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-yellow-800",children:"Profile Incomplete"}),e.jsx("div",{className:"mt-2 text-sm text-yellow-700",children:e.jsx("p",{children:"Please complete all required fields below to access your dashboard."})})]})]})}),e.jsx("div",{className:"bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsx(h,{user:s.user,className:"max-w-xl"})}),e.jsx("div",{className:"bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsx(u,{user:s.user,faculties:a,className:"max-w-xl"})}),e.jsx("div",{className:"bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsx(x,{mustVerifyEmail:i,status:t,className:"max-w-xl"})}),s.user.password&&e.jsx("div",{className:"bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsx(p,{user:s.user,className:"max-w-xl"})}),e.jsx("div",{className:"bg-white p-4 shadow sm:rounded-lg sm:p-8",children:e.jsx(n,{className:"max-w-xl"})})]})})]})}export{le as default};
