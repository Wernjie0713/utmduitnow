import{j as e,H as W,L as D}from"./app-B9lfnha4.js";import{A as _}from"./AuthenticatedLayout-UtQUiQ-w.js";import{G as H}from"./GuestLayout-BhUvQ6Xg.js";import{C as S,a as B,b as R,d as Y,c as z}from"./card-BjwGoSEE.js";import{T as g,a as p,b as t,d as i,M as I}from"./tabs-5tha8Mtb.js";import{T as m,a as G,b as x,c as d,d as f,e as a}from"./table-n4pZIN_y.js";import{B as U}from"./button-DBKSr4MI.js";import{U as w}from"./UserAvatar-COCHZlMW.js";import{A as V,a as E,b as P}from"./alert-D0tD5Wb9.js";import{c as $}from"./createLucideIcon-Ddh1YYn5.js";import{C as q}from"./circle-alert-C1UQ20LB.js";import{T as v}from"./use-controlled-state-DT5lt6wS.js";import{A as F}from"./award-CpLigNWS.js";import"./ApplicationLogo-zd4BETSS.js";import"./transition-B80scv3U.js";import"./utils-DxrgW60L.js";import"./proxy-CT6J4zB_.js";import"./popover-BTgurNBe.js";import"./floating-ui.utils.dom-Ds-VJJzb.js";import"./index-G18pQgYs.js";import"./log-out-CrQfjdpH.js";import"./index-BztIbe42.js";/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],K=$("arrow-left",J);function pe({auth:n,isExtendedPeriod:h=!1,weeklyData:k,week3Data:y,week4Data:T,monthlyData:j,allTimeData:u,extendedSubmissionEnd:b}){const N=n?.user?.roles?.some(r=>r.name==="admin")||!1,A=r=>{switch(r){case 1:return e.jsx(v,{className:"h-5 w-5 text-yellow-500"});case 2:return e.jsx(I,{className:"h-5 w-5 text-gray-400"});case 3:return e.jsx(F,{className:"h-5 w-5 text-amber-600"});default:return null}},C=r=>{switch(r){case 1:return"bg-yellow-50 border-l-4 border-yellow-400";case 2:return"bg-gray-50 border-l-4 border-gray-400";case 3:return"bg-amber-50 border-l-4 border-amber-400";default:return""}},l=r=>{const{top20:o,user_position:c}=r||{};return!o||o.length===0?e.jsx("div",{className:"text-center py-16 text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(v,{className:"h-16 w-16 text-gray-300"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-medium text-gray-700",children:"No rankings yet"}),e.jsx("p",{className:"text-sm",children:"Be the first to submit a transaction!"})]})]})}):e.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[e.jsx(m,{children:e.jsx(G,{className:"bg-gray-50",children:e.jsxs(x,{children:[e.jsx(d,{className:"w-20",children:"Rank"}),e.jsx(d,{className:"w-16",children:"Avatar"}),e.jsx(d,{children:"Name"}),e.jsx(d,{className:"w-32 text-right",children:"Transactions"})]})})}),e.jsx("div",{className:"overflow-y-auto",style:{maxHeight:"520px"},children:e.jsx(m,{children:e.jsx(f,{children:o.map((s,O)=>e.jsxs(x,{className:C(s.rank),children:[e.jsx(a,{className:"w-20 font-bold",children:e.jsxs("div",{className:"flex items-center gap-2",children:[A(s.rank),e.jsxs("span",{className:s.rank<=3?"text-lg":"",children:["#",s.rank]})]})}),e.jsx(a,{className:"w-16",children:e.jsx(w,{user:s.user,size:"sm"})}),e.jsx(a,{className:"font-medium",children:s.user?.name}),e.jsx(a,{className:`w-32 text-right font-bold ${s.rank<=3?"text-xl":"text-lg"}`,children:e.jsx("span",{className:s.rank===1?"text-yellow-600":s.rank===2?"text-gray-600":s.rank===3?"text-amber-600":"",children:s.transaction_count})})]},s.user_id))})})}),n?.user&&c&&e.jsx("div",{className:"bg-blue-50 border-t-2 border-blue-300",children:e.jsx(m,{children:e.jsx(f,{children:e.jsxs(x,{children:[e.jsxs(a,{className:"w-20 font-bold",children:["#",c.rank!==null&&c.rank!==void 0?c.rank:"-"]}),e.jsx(a,{className:"w-16",children:e.jsx(w,{user:n.user,size:"sm"})}),e.jsx(a,{className:"font-bold",children:"You"}),e.jsx(a,{className:"w-32 text-right font-bold text-lg",children:c.transaction_count||0})]})})})})]})},L=n?.user?_:H,M=n?.user?{header:e.jsx("h2",{className:"text-xl font-semibold leading-tight text-gray-800",children:"Leaderboard"})}:{};return e.jsxs(L,{...M,children:[e.jsx(W,{title:"Leaderboard"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8",children:e.jsxs(S,{children:[e.jsx(B,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(R,{children:"Transaction Leaderboard - Top 20"}),e.jsx(Y,{children:"Compete with fellow students to reach the top of the leaderboard!"})]}),e.jsx(D,{href:route("dashboard"),children:e.jsxs(U,{variant:"outline",children:[e.jsx(K,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})})]})}),e.jsxs(z,{children:[h&&e.jsxs(V,{className:"mb-6 border-blue-200 bg-blue-50",children:[e.jsx(q,{className:"h-4 w-4 text-blue-600"}),e.jsx(E,{className:"text-blue-900",children:"Week 3 Extended Submission Period"}),e.jsxs(P,{className:"text-blue-800",children:["Due to server downtime earlier this week, Week 3 submissions have been extended until"," ",e.jsx("strong",{children:b}),". You can submit both Week 3 (Nov 17-23) and Week 4 (Nov 24-30) transactions during this period."]})]}),h?e.jsxs(g,{defaultValue:"week3",className:"w-full",children:[e.jsxs(p,{className:"grid w-full grid-cols-4",children:[e.jsx(t,{value:"week3",children:"Week 3"}),e.jsx(t,{value:"week4",children:"Week 4"}),e.jsx(t,{value:"monthly",children:"Monthly"}),e.jsx(t,{value:"all-time",children:"All-Time"})]}),e.jsxs(i,{value:"week3",className:"mt-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Week 3: November 17 - 23, 2025"}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Extended submission until ",b]})]}),l(y)]}),e.jsxs(i,{value:"week4",className:"mt-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Week 4: November 24 - 30, 2025"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Current week"})]}),l(T)]}),e.jsxs(i,{value:"monthly",className:"mt-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"This Month"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString("en-MY",{month:"long",year:"numeric"})})]}),l(j)]}),e.jsxs(i,{value:"all-time",className:"mt-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"All-Time Champions"}),e.jsx("p",{className:"text-sm text-gray-600",children:N?"Since the beginning of the competition":"Since November 1, 2025"})]}),l(u)]})]}):e.jsxs(g,{defaultValue:"weekly",className:"w-full",children:[e.jsxs(p,{className:"grid w-full grid-cols-3",children:[e.jsx(t,{value:"weekly",children:"Weekly"}),e.jsx(t,{value:"monthly",children:"Monthly"}),e.jsx(t,{value:"all-time",children:"All-Time"})]}),e.jsxs(i,{value:"weekly",className:"mt-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"This Week"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString("en-MY",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),l(k)]}),e.jsxs(i,{value:"monthly",className:"mt-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"This Month"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date().toLocaleDateString("en-MY",{month:"long",year:"numeric"})})]}),l(j)]}),e.jsxs(i,{value:"all-time",className:"mt-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"All-Time Champions"}),e.jsx("p",{className:"text-sm text-gray-600",children:N?"Since the beginning of the competition":"Since November 1, 2025"})]}),l(u)]})]})]})]})})})]})}export{pe as default};
