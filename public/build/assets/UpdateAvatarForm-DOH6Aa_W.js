import{r as j,u as y,j as e,t as n,a as g}from"./app-_2PsX8Y9.js";import{P as N}from"./PrimaryButton-B6Clqeoo.js";import{S as d}from"./SecondaryButton-CXekKiDd.js";import{I as P}from"./InputError-Drvhkg0p.js";import{U as b}from"./UserAvatar-BEjBzRTn.js";function k({user:a,className:u=""}){const[s,o]=j.useState(a.avatar),{data:m,setData:p,post:f,processing:c,errors:l,reset:i}=y({avatar:null}),x=t=>{const r=t.target.files[0];r&&(p("avatar",r),o(URL.createObjectURL(r)))},v=t=>{t.preventDefault(),f(route("profile.avatar.update"),{forceFormData:!0,onSuccess:()=>{i(),n.success("Profile picture updated successfully!")}})},h=()=>{confirm("Are you sure you want to remove your profile picture?")&&g.delete(route("profile.avatar.destroy"),{onSuccess:()=>{o(null),i(),n.success("Profile picture removed successfully!")}})};return e.jsxs("section",{className:u,children:[e.jsxs("header",{children:[e.jsx("h2",{className:"text-lg font-medium text-gray-900",children:"Profile Picture"}),e.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Update your account's profile picture."})]}),e.jsxs("div",{className:"mt-6 flex items-center gap-6",children:[s?e.jsx("img",{src:s,alt:a.name,className:"h-24 w-24 rounded-full object-cover border-2 border-gray-200"}):e.jsx("div",{className:"border-2 border-gray-200 rounded-full",children:e.jsx(b,{user:a,className:"h-24 w-24"})}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("input",{type:"file",accept:"image/*",onChange:x,className:"hidden",id:"avatar-upload"}),e.jsx(d,{type:"button",onClick:()=>document.getElementById("avatar-upload").click(),children:"Choose Photo"}),a.avatar_url&&e.jsx(d,{onClick:h,type:"button",children:"Remove Photo"}),e.jsx("p",{className:"text-xs text-gray-500",children:"JPG, PNG, GIF up to 5MB"})]})]}),l.avatar&&e.jsx(P,{message:l.avatar,className:"mt-2"}),m.avatar&&e.jsx("div",{className:"mt-4",children:e.jsx(N,{onClick:v,disabled:c,children:c?"Uploading...":"Upload Photo"})})]})}export{k as default};
